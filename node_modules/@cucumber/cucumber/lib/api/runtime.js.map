{"version":3,"file":"runtime.js","sourceRoot":"","sources":["../../src/api/runtime.ts"],"names":[],"mappings":";;;;;;AAEA,yDAA8C;AAG9C,kFAAyD;AAIzD,SAAgB,WAAW,CAAC,EAC1B,GAAG,EACH,MAAM,EACN,gBAAgB,EAChB,kBAAkB,EAClB,SAAS,EACT,KAAK,EACL,kBAAkB,EAClB,cAAc,EACd,YAAY,EACZ,WAAW,EACX,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,GAalC;IACC,IAAI,QAAQ,GAAG,CAAC,EAAE;QAChB,OAAO,IAAI,qBAAW,CAAC;YACrB,GAAG;YACH,MAAM;YACN,gBAAgB;YAChB,kBAAkB;YAClB,SAAS;YACT,OAAO;YACP,KAAK;YACL,kBAAkB;YAClB,cAAc;YACd,YAAY;YACZ,WAAW;YACX,eAAe,EAAE,QAAQ;SAC1B,CAAC,CAAA;KACH;IACD,OAAO,IAAI,iBAAO,CAAC;QACjB,gBAAgB;QAChB,kBAAkB;QAClB,KAAK;QACL,SAAS;QACT,kBAAkB;QAClB,OAAO;KACR,CAAC,CAAA;AACJ,CAAC;AAjDD,kCAiDC","sourcesContent":["import { EventEmitter } from 'node:events'\nimport { IdGenerator } from '@cucumber/messages'\nimport Runtime, { IRuntime } from '../runtime'\nimport { EventDataCollector } from '../formatter/helpers'\nimport { ISupportCodeLibrary } from '../support_code_library_builder/types'\nimport Coordinator from '../runtime/parallel/coordinator'\nimport { ILogger } from '../logger'\nimport { IRunOptionsRuntime } from './types'\n\nexport function makeRuntime({\n  cwd,\n  logger,\n  eventBroadcaster,\n  eventDataCollector,\n  pickleIds,\n  newId,\n  supportCodeLibrary,\n  requireModules,\n  requirePaths,\n  importPaths,\n  options: { parallel, ...options },\n}: {\n  cwd: string\n  logger: ILogger\n  eventBroadcaster: EventEmitter\n  eventDataCollector: EventDataCollector\n  newId: IdGenerator.NewId\n  pickleIds: string[]\n  supportCodeLibrary: ISupportCodeLibrary\n  requireModules: string[]\n  requirePaths: string[]\n  importPaths: string[]\n  options: IRunOptionsRuntime\n}): IRuntime {\n  if (parallel > 0) {\n    return new Coordinator({\n      cwd,\n      logger,\n      eventBroadcaster,\n      eventDataCollector,\n      pickleIds,\n      options,\n      newId,\n      supportCodeLibrary,\n      requireModules,\n      requirePaths,\n      importPaths,\n      numberOfWorkers: parallel,\n    })\n  }\n  return new Runtime({\n    eventBroadcaster,\n    eventDataCollector,\n    newId,\n    pickleIds,\n    supportCodeLibrary,\n    options,\n  })\n}\n"]}